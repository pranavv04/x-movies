{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./schedule.css';import Card from'../components/Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Schedule(){const filterList=[{_id:1,name:'All',active:true},{_id:2,name:'Romance',active:false},{_id:3,name:'Action',active:false},{_id:4,name:'Thriller',active:false},{_id:5,name:'Horror',active:false},{_id:6,name:'Adventure',active:false}];const[data,setData]=useState([]);const[movies,setMovies]=useState([]);const[filter,setFilters]=useState(filterList);const fetchData=()=>{fetch('https://pranavv04.github.io/movies-api/movieData.json').then(res=>res.json()).then(data=>setData(data)).catch(e=>console.log(e.message));};useEffect(()=>{fetchData();},[]);useEffect(()=>{setMovies(data);},[data]);const handleFilterMovies=category=>{setFilters(filter.map(filter=>{filter.active=false;if(filter.name===category){filter.active=true;}return filter;}));if(category==='All'){setMovies(data);return;}setMovies(data.filter(movie=>movie.category===category));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{id:\"schedule\",className:\"schedule\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"section-title\",children:\"Opening this week\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"filters\",children:filter.map(filter=>/*#__PURE__*/_jsx(\"li\",{className:\"\".concat(filter.active?'active':undefined),onClick:()=>{handleFilterMovies(filter.name);},children:filter.name},filter._id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",children:movies&&movies.length>0&&movies.map(movie=>/*#__PURE__*/_jsx(Card,{movie:movie},movie._id))})]})})});}export default Schedule;","map":{"version":3,"names":["React","useState","useEffect","Card","jsx","_jsx","jsxs","_jsxs","Schedule","filterList","_id","name","active","data","setData","movies","setMovies","filter","setFilters","fetchData","fetch","then","res","json","catch","e","console","log","message","handleFilterMovies","category","map","movie","children","id","className","concat","undefined","onClick","length"],"sources":["C:/Users/prana/OneDrive/Desktop/movies-app/src/pages/Schedule.jsx"],"sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport './schedule.css';\r\nimport Card from '../components/Card';\r\n\r\nfunction Schedule() {\r\n    const filterList=[\r\n      {\r\n        _id:1,\r\n        name:'All',\r\n        active:true,\r\n      },{\r\n        _id:2,\r\n        name:'Romance',\r\n        active:false,\r\n      },\r\n      {\r\n        _id:3,\r\n        name:'Action',\r\n        active:false,\r\n      },\r\n    {\r\n        _id:4,\r\n        name:'Thriller',\r\n        active:false,\r\n    },\r\n    {\r\n        _id:5,\r\n        name:'Horror',\r\n        active:false,\r\n    },\r\n    {\r\n        _id:6,\r\n        name:'Adventure',\r\n        active:false,\r\n    },\r\n\r\n    ];\r\n    const [data,setData] = useState([])\r\n    const [movies,setMovies] = useState([]);\r\n    const [filter,setFilters] = useState(filterList);\r\n\r\n    const fetchData = () => {\r\n        fetch('https://pranavv04.github.io/movies-api/movieData.json')\r\n          .then(res => res.json())\r\n          .then(data => setData(data))\r\n          .catch(e => console.log(e.message));\r\n      };\r\n    \r\n      useEffect(() => {\r\n        fetchData()\r\n      }, []);\r\n\r\n      useEffect(()=>{\r\n        setMovies(data);\r\n      },[data]);\r\n\r\n      const handleFilterMovies = category =>{\r\n      setFilters(\r\n        filter.map(filter=>{\r\n            filter.active = false;\r\n            if(filter.name=== category){\r\n                filter.active=true;\r\n            }\r\n            return filter;\r\n        })\r\n      );\r\n\r\n\r\n\r\n       if(category==='All'){\r\n        setMovies(data);\r\n        return;\r\n       }\r\n       setMovies( data.filter(movie => movie.category === category));\r\n\r\n      }\r\n  return (\r\n    <div>\r\n      <section id=\"schedule\" className='schedule'>\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <h4 className='section-title'>Opening this week</h4>\r\n          </div>\r\n          <div className=\"row\">\r\n               {\r\n                    <ul className=\"filters\">\r\n                        {\r\n                          filter.map(filter => (\r\n                            <li key={filter._id} className={`${filter.active?'active':undefined}`}\r\n                             onClick={()=>{handleFilterMovies(filter.name);\r\n                            }}\r\n                            >{filter.name}</li>\r\n                          ))\r\n                        }\r\n                    </ul>\r\n                }\r\n             </div>\r\n        <div className=\"row mt-5\">\r\n           {movies && movies.length>0 && movies.map(movie =>(\r\n               <Card key={movie._id} movie={movie}/>\r\n           ))}\r\n        </div>\r\n          \r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Schedule\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}